(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{D5Wi:function(t,e,n){"use strict";n.r(e),n.d(e,"NewsListModule",function(){return V});var i=n("ofXK"),a=n("3Pt+"),c=n("tyNb"),o=n("PCNd"),r=n("fXoL"),s=n("Yerg"),l=n("+0xr"),b=n("M9IT"),d=n("bTqV"),m=n("STbY"),u=n("sYmb");function g(t,e){1&t&&(r.Ub(0,"th",12),r.Hc(1),r.gc(2,"translate"),r.Tb()),2&t&&(r.Db(1),r.Ic(r.hc(2,1,"TABLE.ID")))}function h(t,e){if(1&t&&(r.Ub(0,"td",13),r.Hc(1),r.Tb()),2&t){const t=e.$implicit;r.Db(1),r.Ic(t.id)}}function f(t,e){1&t&&(r.Ub(0,"th",12),r.Hc(1),r.gc(2,"translate"),r.Tb()),2&t&&(r.Db(1),r.Ic(r.hc(2,1,"TABLE.TITLE")))}function p(t,e){if(1&t&&(r.Ub(0,"td",13),r.Hc(1),r.Tb()),2&t){const t=e.$implicit;r.Db(1),r.Ic(t.title)}}function w(t,e){1&t&&(r.Ub(0,"th",12),r.Hc(1),r.gc(2,"translate"),r.Tb()),2&t&&(r.Db(1),r.Ic(r.hc(2,1,"TABLE.DESCRIPTION")))}function D(t,e){if(1&t&&(r.Ub(0,"td",13),r.Hc(1),r.Tb()),2&t){const t=e.$implicit;r.Db(1),r.Ic(t.description)}}function v(t,e){1&t&&(r.Ub(0,"th",12),r.Hc(1),r.gc(2,"translate"),r.Tb()),2&t&&(r.Db(1),r.Ic(r.hc(2,1,"TABLE.IMAGE")))}function T(t,e){if(1&t&&(r.Ub(0,"td",13),r.Ub(1,"div",14),r.Pb(2,"img",15),r.Tb(),r.Tb()),2&t){const t=e.$implicit;r.Db(2),r.oc("src",t.imagePath,r.Ac)("alt",t.title)}}function I(t,e){1&t&&(r.Ub(0,"th",12),r.Hc(1),r.gc(2,"translate"),r.Tb()),2&t&&(r.Db(1),r.Ic(r.hc(2,1,"TABLE.MENU")))}function P(t,e){if(1&t){const t=r.Vb();r.Ub(0,"td",13),r.Ub(1,"button",16),r.Hc(2,"..."),r.Tb(),r.Ub(3,"mat-menu",17,18),r.Ub(5,"button",19),r.bc("click",function(){r.zc(t);const n=e.$implicit;return r.fc().onModify(n.id)}),r.Ub(6,"span",20),r.Hc(7," edit "),r.Tb(),r.Hc(8),r.gc(9,"translate"),r.Tb(),r.Ub(10,"button",19),r.bc("click",function(){r.zc(t);const n=e.$implicit;return r.fc().onDelete(n.id)}),r.Ub(11,"span",20),r.Hc(12," delete "),r.Tb(),r.Hc(13),r.gc(14,"translate"),r.Tb(),r.Tb(),r.Tb()}if(2&t){const t=r.wc(4);r.Db(1),r.oc("matMenuTriggerFor",t),r.Db(7),r.Jc(" ",r.hc(9,3,"GENERIC.ACTION.EDIT")," "),r.Db(5),r.Jc(" ",r.hc(14,5,"GENERIC.ACTION.DELETE")," ")}}function C(t,e){1&t&&r.Pb(0,"tr",21)}function O(t,e){1&t&&r.Pb(0,"tr",22)}const M=function(){return[5,10,20]};let U=(()=>{class t{constructor(t,e){this.newsService=t,this.router=e,this.displayedColumns=["id","title","description","image","menu"],this.news=[],this.isLoading=!1}ngOnInit(){this.isLoading=!0,this.newsService.getNews(),this.newsSub=this.newsService.getNewsUpdateListener().subscribe(t=>{this.isLoading=!1,this.news=t})}onModify(t){this.router.navigateByUrl("/admin/news-list/edit/"+t)}onDelete(t){this.newsService.deleteNews(t)}ngOnDestroy(){this.newsSub.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(s.a),r.Ob(c.c))},t.\u0275cmp=r.Ib({type:t,selectors:[["app-news-list"]],decls:20,vars:5,consts:[[1,"mat-elevation-z8","box-shadow"],["mat-table","",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","title"],["matColumnDef","description"],["matColumnDef","image"],["matColumnDef","menu"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],["mat-header-cell",""],["mat-cell",""],[1,"post-image"],[3,"src","alt"],["mat-button","",3,"matMenuTriggerFor"],[1,"btn-main"],["menu","matMenu"],["mat-menu-item","",1,"d-flex","align-item-center",3,"click"],[1,"material-icons"],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(r.Ub(0,"div",0),r.Ub(1,"table",1),r.Sb(2,2),r.Fc(3,g,3,3,"th",3),r.Fc(4,h,2,1,"td",4),r.Rb(),r.Sb(5,5),r.Fc(6,f,3,3,"th",3),r.Fc(7,p,2,1,"td",4),r.Rb(),r.Sb(8,6),r.Fc(9,w,3,3,"th",3),r.Fc(10,D,2,1,"td",4),r.Rb(),r.Sb(11,7),r.Fc(12,v,3,3,"th",3),r.Fc(13,T,3,2,"td",4),r.Rb(),r.Sb(14,8),r.Fc(15,I,3,3,"th",3),r.Fc(16,P,15,7,"td",4),r.Rb(),r.Fc(17,C,1,0,"tr",9),r.Fc(18,O,1,0,"tr",10),r.Tb(),r.Pb(19,"mat-paginator",11),r.Tb()),2&t&&(r.Db(1),r.oc("dataSource",e.news),r.Db(16),r.oc("matHeaderRowDef",e.displayedColumns),r.Db(1),r.oc("matRowDefColumns",e.displayedColumns),r.Db(1),r.oc("pageSizeOptions",r.qc(4,M)))},directives:[l.j,l.c,l.e,l.b,l.g,l.i,b.a,l.d,l.a,d.a,m.d,m.a,m.b,l.f,l.h],pipes:[u.b],styles:[".post-image[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center}.post-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20%}table[_ngcontent-%COMP%]{background-color:var(--white-color)!important;width:100%}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:var(--light-color);border:1px solid var(--light-color);color:var(--white-color)!important}table[_ngcontent-%COMP%]   th.mat-header-cell[_ngcontent-%COMP%]{text-align:center}table[_ngcontent-%COMP%]   th.mat-header-cell[_ngcontent-%COMP%]:first-of-type{padding-left:0}table[_ngcontent-%COMP%]   th.mat-header-cell[_ngcontent-%COMP%]:last-of-type{padding-right:0}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid var(--light-color);color:var(--light-color)!important}table[_ngcontent-%COMP%]   td.mat-cell[_ngcontent-%COMP%]:first-of-type{padding-left:0}table[_ngcontent-%COMP%]   td.mat-cell[_ngcontent-%COMP%]:last-of-type{padding-right:0}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:var(--input-color)}"]}),t})();var S=n("dMKd"),E=n("hq03"),_=n("Wp6s"),N=n("Xa2L"),y=n("kmnG"),A=n("qFsG"),L=n("iadO");function F(t,e){1&t&&r.Pb(0,"mat-spinner")}function R(t,e){1&t&&(r.Ub(0,"mat-error"),r.Hc(1,"Please enter a post title."),r.Tb())}function H(t,e){if(1&t&&(r.Ub(0,"div",18),r.Pb(1,"img",19),r.Tb()),2&t){const t=r.fc(2);r.Db(1),r.oc("src",t.imagePreview,r.Ac)("alt",t.form.value.title)}}function k(t,e){1&t&&(r.Ub(0,"mat-error"),r.Hc(1,"Please enter a post description."),r.Tb())}function x(t,e){if(1&t){const t=r.Vb();r.Ub(0,"form",3),r.bc("submit",function(){return r.zc(t),r.fc().onAddNews()}),r.Ub(1,"div"),r.Ub(2,"h2"),r.Hc(3),r.gc(4,"translate"),r.Tb(),r.Tb(),r.Ub(5,"mat-form-field",4),r.Ub(6,"mat-label"),r.Hc(7),r.gc(8,"translate"),r.Tb(),r.Pb(9,"input",5),r.Fc(10,R,2,0,"mat-error",1),r.Tb(),r.Ub(11,"div"),r.Ub(12,"button",6),r.bc("click",function(){return r.zc(t),r.wc(16).click()}),r.Hc(13),r.gc(14,"translate"),r.Tb(),r.Ub(15,"input",7,8),r.bc("change",function(e){return r.zc(t),r.fc().onImagePicked(e)}),r.Tb(),r.Tb(),r.Fc(17,H,2,2,"div",9),r.Ub(18,"mat-form-field",4),r.Ub(19,"mat-label"),r.Hc(20),r.gc(21,"translate"),r.Tb(),r.Ub(22,"mat-date-range-input",10),r.Pb(23,"input",11),r.Pb(24,"input",12),r.Tb(),r.Pb(25,"mat-datepicker-toggle",13),r.Pb(26,"mat-date-range-picker",14,15),r.Tb(),r.Ub(28,"p"),r.Hc(29),r.gc(30,"json"),r.Tb(),r.Ub(31,"mat-form-field",4),r.Ub(32,"mat-label"),r.Hc(33),r.gc(34,"translate"),r.Tb(),r.Pb(35,"textarea",16),r.Fc(36,k,2,0,"mat-error",1),r.Tb(),r.Ub(37,"button",17),r.Hc(38),r.gc(39,"translate"),r.Tb(),r.Tb()}if(2&t){const t=r.wc(27),e=r.fc();let n=null,i=null,a=null;r.oc("formGroup",e.form),r.Db(3),r.Ic(r.hc(4,13,"FORM.ADD_NEWS.TITLE")),r.Db(4),r.Ic(r.hc(8,15,"FORM.ADD_NEWS.TITLE_NEWS")),r.Db(3),r.oc("ngIf",null==(n=e.form.get("title"))?null:n.invalid),r.Db(3),r.Ic(r.hc(14,17,"FORM.ADD_NEWS.PICK_IMAGE")),r.Db(4),r.oc("ngIf",""!==e.imagePreview&&e.imagePreview&&(null==(i=e.form.get("image"))?null:i.valid)),r.Db(3),r.Ic(r.hc(21,19,"FORM.ADD_NEWS.DATE_RANGE")),r.Db(2),r.oc("rangePicker",t),r.Db(3),r.oc("for",t),r.Db(4),r.Jc("Selected range: ",r.hc(30,21,e.form.value),""),r.Db(4),r.Ic(r.hc(34,23,"FORM.ADD_NEWS.DESCRIPTION")),r.Db(3),r.oc("ngIf",null==(a=e.form.get("description"))?null:a.invalid),r.Db(2),r.Ic(r.hc(39,25,"GENERIC.ACTION.SAVE"))}}let G=(()=>{class t{constructor(t,e,n){this.newsService=t,this.route=e,this.alertService=n,this.isLoading=!1,this.mode="create"}ngOnInit(){this.form=new a.g({title:new a.e(null,{validators:[a.s.required,a.s.minLength(3)]}),description:new a.e(null,{validators:[a.s.required]}),image:new a.e(null,{validators:[a.s.required],asyncValidators:[S.a]}),startDate:new a.e(null,{validators:[a.s.required]}),endDate:new a.e(null,{validators:[a.s.required]})}),this.route.paramMap.subscribe(t=>{t.has("newsId")?(this.mode="edit",this.newsId=t.get("newsId"),this.isLoading=!0,this.newsService.getNew(this.newsId).subscribe(t=>{this.isLoading=!1,this.news={id:t._id,title:t.title,description:t.description,imagePath:t.imagePath,startDate:t.startDate,endDate:t.endDate},this.form.setValue({title:this.news.title,description:this.news.description,image:this.news.imagePath,startDate:this.news.startDate,endDate:this.news.endDate})})):(this.mode="create",this.newsId="")})}onImagePicked(t){var e;const n=t.target.files[0];this.form.patchValue({image:n}),null===(e=this.form.get("image"))||void 0===e||e.updateValueAndValidity();const i=new FileReader;i.onload=()=>{this.imagePreview=i.result},i.readAsDataURL(n)}onAddNews(){if(this.form.invalid)return this.alertService.warn("ALERT.WARN.INVALID_FORM"),this.form.markAllAsTouched(),void(this.isLoading=!1);this.isLoading=!0,"create"===this.mode?this.newsService.addNews(this.form.value.title,this.form.value.description,this.form.value.image,this.form.value.startDate,this.form.value.endDate):this.newsService.updateNews(this.newsId,this.form.value.title,this.form.value.description,this.form.value.image,this.form.value.startDate,this.form.value.endDate),this.form.reset()}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(s.a),r.Ob(c.a),r.Ob(E.a))},t.\u0275cmp=r.Ib({type:t,selectors:[["app-add-news"]],decls:3,vars:2,consts:[[1,"secondary-box-shadow"],[4,"ngIf"],[3,"formGroup","submit",4,"ngIf"],[3,"formGroup","submit"],["appearance","outline"],["matInput","","type","text","formControlName","title","placeholder","Title"],["mat-stroked-button","","type","button",1,"btn-secondary",3,"click"],["type","file",3,"change"],["filePicker",""],["class","image-preview",4,"ngIf"],[3,"rangePicker"],["matStartDate","","formControlName","startDate","placeholder","Start date"],["matEndDate","","formControlName","endDate","placeholder","End date"],["matSuffix","",3,"for"],["color","primary"],["picker",""],["matInput","","rows","4","formControlName","description","placeholder","description"],["mat-raised-button","","type","submit",1,"btn-secondary"],[1,"image-preview"],[3,"src","alt"]],template:function(t,e){1&t&&(r.Ub(0,"mat-card",0),r.Fc(1,F,1,0,"mat-spinner",1),r.Fc(2,x,40,27,"form",2),r.Tb()),2&t&&(r.Db(1),r.oc("ngIf",e.isLoading),r.Db(1),r.oc("ngIf",!e.isLoading))},directives:[_.a,i.n,N.b,a.t,a.n,a.h,y.c,y.f,A.b,a.c,a.m,a.f,d.a,L.a,L.f,L.e,L.d,y.g,L.b,y.b],pipes:[u.b,i.h],styles:["input[type=file][_ngcontent-%COMP%]{visibility:hidden}.image-preview[_ngcontent-%COMP%]{height:5rem;margin:1rem 0}.image-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%}"]}),t})();const q=[{path:"",component:U},{path:"create",component:G},{path:"edit/:newsId",component:G}];let V=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({imports:[[i.c,o.a,a.i,a.q,c.f.forChild(q)]]}),t})()}}]);